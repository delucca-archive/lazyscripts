#if 0
	shc Version 3.9.6, Generic Shell Script Compiler
	GNU GPL Version 3 Md Jahidul Hamid <jahidulhamid@yahoo.com>

	shc -f src/commands/bootstrap-codespaces/bootstrap-codespaces.sh -o bin/bootstrap-codespaces 
#endif

static  char data [] = 
#define      chk1_z	22
#define      chk1	((&data[1]))
	"\154\112\034\353\076\275\273\104\235\371\055\336\302\014\015\136"
	"\336\363\347\277\203\061\112\222\144\262\351"
#define      tst2_z	19
#define      tst2	((&data[31]))
	"\317\116\043\367\146\140\243\266\135\270\023\016\341\176\271\330"
	"\365\011\053\243\173\130\101\144\307"
#define      msg2_z	19
#define      msg2	((&data[54]))
	"\271\016\205\053\372\275\036\377\302\212\061\314\147\163\102\341"
	"\015\060\352\036\172\324\251\054\314"
#define      chk2_z	19
#define      chk2	((&data[77]))
	"\320\200\031\201\253\233\350\114\017\253\120\235\101\271\254\064"
	"\235\316\300"
#define      shll_z	10
#define      shll	((&data[97]))
	"\212\200\312\023\312\020\340\216\030\111\013\106\055"
#define      msg1_z	65
#define      msg1	((&data[120]))
	"\006\224\273\161\143\011\225\133\156\134\366\265\244\177\247\334"
	"\047\316\131\201\145\313\342\273\336\015\113\333\001\150\357\265"
	"\302\321\267\302\111\241\067\367\062\213\347\303\053\364\021\241"
	"\242\251\316\045\046\323\010\235\266\357\136\141\143\377\230\244"
	"\126\103\166\055\043\323\334\227\027\160\102\036\373\062\257\011"
	"\007\131\066\323\072\107\376\162\275\277"
#define      pswd_z	256
#define      pswd	((&data[200]))
	"\032\263\166\357\335\150\262\374\254\134\105\040\163\325\121\225"
	"\267\077\315\052\016\004\356\022\020\316\115\271\210\276\332\357"
	"\161\120\336\117\271\221\114\145\356\222\206\141\147\327\367\036"
	"\027\304\111\045\310\067\067\331\006\204\223\217\103\155\176\264"
	"\275\135\004\166\356\121\334\334\343\142\076\113\072\065\152\121"
	"\371\263\166\302\353\255\234\362\062\057\201\165\235\000\052\133"
	"\135\057\322\114\200\256\051\144\020\147\257\112\235\031\233\227"
	"\315\022\132\271\300\367\253\363\046\055\150\304\055\223\037\213"
	"\303\361\327\104\237\001\250\260\151\130\372\006\162\226\235\077"
	"\250\367\370\151\357\244\134\026\321\305\332\376\131\371\211\034"
	"\352\141\141\211\143\011\072\314\142\064\323\324\313\161\024\164"
	"\151\015\335\130\261\071\156\202\377\110\201\130\101\013\164\054"
	"\155\325\266\320\337\360\235\102\044\160\026\357\341\052\143\113"
	"\070\101\243\351\173\021\154\172\131\356\322\233\371\107\307\147"
	"\035\176\070\375\156\325\077\223\106\126\203\050\201\347\163\271"
	"\050\026\243\243\050\017\035\201\375\360\035\367\070\345\136\125"
	"\143\257\316\041\104\211\223\247\223\050\002\001\204\370\374\267"
	"\250\006\276\001\074\221\074\204\220\256\101\120\253\105\075\306"
	"\365\014\350\071\226\173\341\051\243\343\053\050\334\050\337\205"
	"\057\235\206\154\057\302\360\300\161\062\020\035\170"
#define      inlo_z	3
#define      inlo	((&data[516]))
	"\104\065\100"
#define      xecc_z	15
#define      xecc	((&data[522]))
	"\360\107\211\214\253\174\305\076\076\065\117\143\225\367\220\030"
	"\356\140\032\353"
#define      lsto_z	1
#define      lsto	((&data[539]))
	"\032"
#define      tst1_z	22
#define      tst1	((&data[542]))
	"\317\235\360\077\363\300\356\367\333\235\367\064\026\265\036\206"
	"\234\142\340\013\311\052\252\037\220\126\011\300\030"
#define      date_z	1
#define      date	((&data[569]))
	"\136"
#define      rlax_z	1
#define      rlax	((&data[570]))
	"\010"
#define      opts_z	1
#define      opts	((&data[571]))
	"\245"
#define      text_z	3261
#define      text	((&data[754]))
	"\274\051\237\106\104\212\264\211\235\376\367\217\316\224\040\044"
	"\235\340\075\227\141\307\304\362\156\152\321\372\176\012\121\073"
	"\064\360\202\170\172\066\002\030\065\372\250\004\217\310\050\055"
	"\251\146\305\013\055\211\375\234\364\316\226\162\330\350\256\015"
	"\331\060\206\124\147\210\154\235\202\025\241\022\335\312\077\207"
	"\060\004\222\136\216\220\372\202\136\221\365\067\172\244\104\123"
	"\325\312\247\074\123\024\331\326\051\173\350\007\105\050\216\166"
	"\054\041\324\273\261\316\076\020\140\064\107\332\330\214\055\255"
	"\127\325\351\252\351\303\201\022\077\151\031\205\222\247\373\276"
	"\311\317\172\172\236\270\213\376\354\322\331\304\137\006\162\266"
	"\333\134\141\305\040\343\327\137\115\360\344\337\230\337\235\142"
	"\257\030\335\115\320\150\304\117\342\240\162\032\037\172\055\135"
	"\102\301\120\255\343\056\073\157\053\035\234\366\061\141\337\205"
	"\104\246\271\065\130\244\371\265\121\337\045\327\151\222\030\014"
	"\075\125\352\036\122\117\005\223\126\040\072\363\234\303\271\221"
	"\145\240\063\041\045\366\035\310\201\300\020\174\203\346\245\331"
	"\253\053\206\127\124\211\247\237\303\311\204\155\266\373\171\114"
	"\200\321\261\154\240\374\000\174\247\030\322\314\152\365\262\033"
	"\131\327\224\240\050\213\101\113\106\272\377\314\377\275\213\066"
	"\227\265\157\143\356\332\262\233\354\117\211\265\030\232\240\102"
	"\231\010\276\105\153\154\012\067\076\167\265\152\353\305\272\034"
	"\161\274\025\270\307\206\134\136\142\034\241\273\325\035\200\076"
	"\044\112\052\356\323\233\136\001\237\260\233\347\137\010\101\014"
	"\371\111\071\306\024\307\106\047\043\101\270\270\220\131\374\364"
	"\066\020\122\215\347\260\216\105\213\034\271\375\303\242\042\276"
	"\274\244\231\312\073\316\042\033\040\204\047\037\267\141\317\100"
	"\134\103\335\154\133\255\334\071\345\146\042\371\215\015\361\334"
	"\262\322\137\135\000\265\245\236\237\036\253\055\076\252\052\362"
	"\350\122\253\026\204\210\115\244\102\241\242\275\306\376\076\046"
	"\226\111\053\260\121\146\355\317\352\363\071\246\236\242\273\006"
	"\301\174\037\276\135\161\153\137\007\223\103\105\032\013\043\112"
	"\014\333\365\115\340\025\164\040\307\300\073\253\332\374\056\251"
	"\052\370\140\032\005\316\324\077\103\000\237\265\035\030\231\215"
	"\025\110\316\344\355\106\126\315\064\336\341\257\377\075\335\356"
	"\216\273\042\311\364\240\127\010\312\224\240\140\026\205\226\056"
	"\043\062\302\071\127\230\133\151\302\260\125\205\011\311\142\160"
	"\070\367\061\333\135\366\161\223\166\026\376\311\362\126\260\110"
	"\267\007\321\115\203\117\265\055\103\260\141\135\176\262\305\200"
	"\330\332\131\151\255\357\223\076\351\326\054\310\143\140\323\202"
	"\052\052\361\112\103\343\134\174\262\303\027\304\110\026\352\154"
	"\301\134\225\161\276\045\271\225\223\043\064\126\231\165\000\077"
	"\227\327\247\140\273\337\136\213\274\213\050\227\354\046\077\010"
	"\167\236\221\303\237\350\024\312\271\230\140\233\375\202\365\201"
	"\142\002\257\324\211\323\224\051\160\346\163\112\356\161\343\152"
	"\234\204\024\043\015\206\161\013\341\312\012\133\156\066\057\237"
	"\213\114\250\334\155\254\263\036\156\274\017\073\174\014\311\042"
	"\350\147\100\214\253\201\157\234\016\032\203\025\161\063\346\323"
	"\105\312\354\012\156\073\037\313\344\127\307\271\003\272\301\111"
	"\340\001\022\350\103\101\075\344\064\263\122\113\301\200\067\361"
	"\032\227\162\064\064\033\225\140\127\051\135\073\361\025\076\303"
	"\221\174\062\146\043\173\137\272\154\366\267\372\223\004\271\335"
	"\164\350\122\055\225\175\274\163\056\144\221\165\021\241\053\305"
	"\300\231\026\100\077\132\220\323\235\073\262\326\047\266\067\155"
	"\156\136\222\235\105\267\223\325\377\275\331\061\373\003\132\122"
	"\145\133\157\331\102\356\145\131\241\100\044\157\313\361\033\232"
	"\165\122\201\372\373\247\334\316\310\177\317\123\361\365\210\070"
	"\235\103\344\055\007\343\327\013\027\361\374\256\007\207\153\261"
	"\005\052\320\105\224\173\000\144\217\113\305\132\046\146\112\222"
	"\075\376\240\175\334\325\177\331\322\332\235\253\255\254\210\122"
	"\347\066\227\177\154\005\005\226\332\347\001\050\062\074\106\347"
	"\027\315\177\142\011\076\350\156\050\254\006\301\212\217\362\314"
	"\222\276\200\105\314\202\215\244\064\142\025\232\002\030\014\206"
	"\313\315\062\356\050\155\233\143\073\316\144\346\002\274\157\375"
	"\332\067\365\027\226\353\333\056\014\212\031\337\205\030\240\244"
	"\167\212\054\276\203\332\151\373\034\337\164\246\252\151\113\214"
	"\001\254\014\360\060\051\225\006\052\070\201\324\106\270\003\031"
	"\232\341\161\154\072\340\055\176\213\233\061\013\075\217\340\264"
	"\312\063\156\173\037\026\232\302\107\303\256\024\322\252\041\244"
	"\302\133\374\372\377\317\353\245\317\377\036\165\347\371\112\074"
	"\050\275\335\076\024\066\272\257\347\274\170\001\367\041\273\263"
	"\065\240\165\226\005\220\014\064\022\045\162\326\047\020\304\240"
	"\042\354\257\174\333\232\007\305\232\174\140\355\222\370\054\033"
	"\261\335\230\160\070\276\156\140\251\040\166\354\312\366\172\210"
	"\022\343\154\031\347\260\233\071\200\003\013\372\343\215\115\006"
	"\313\222\311\063\320\365\316\152\226\303\203\146\167\223\266\136"
	"\127\242\325\336\044\247\131\356\125\366\003\020\163\216\302\216"
	"\046\160\376\043\133\233\321\021\103\251\071\105\073\045\233\350"
	"\225\362\106\250\255\305\021\361\326\042\203\275\351\311\072\133"
	"\022\240\246\143\003\164\252\025\101\261\066\240\015\210\100\150"
	"\200\267\271\011\072\214\364\237\102\320\174\223\152\123\002\155"
	"\270\205\236\370\352\013\230\256\212\325\275\272\322\107\147\346"
	"\176\320\213\030\100\323\302\003\051\271\325\055\320\365\360\274"
	"\037\273\150\274\203\253\201\214\304\076\005\256\027\006\330\164"
	"\002\332\146\243\062\070\263\152\304\061\232\100\234\373\024\213"
	"\132\253\161\367\166\374\261\033\037\073\252\306\332\032\300\265"
	"\156\117\040\040\370\234\004\274\240\310\156\206\010\343\332\270"
	"\233\051\164\264\270\103\252\211\120\273\370\127\220\176\127\232"
	"\061\175\122\112\135\324\325\231\207\104\111\356\025\033\165\376"
	"\164\211\234\365\355\137\311\350\317\300\130\147\060\306\161\364"
	"\154\163\224\360\366\071\203\127\371\361\015\047\032\336\106\330"
	"\251\360\015\015\227\223\312\000\052\334\346\205\302\304\353\007"
	"\151\004\113\042\361\131\344\046\201\307\264\005\171\146\200\362"
	"\001\107\024\352\055\033\005\334\167\260\242\307\170\171\123\334"
	"\057\373\244\056\230\024\234\215\371\240\122\373\362\007\154\102"
	"\375\074\227\243\147\071\231\263\366\155\316\371\045\205\340\065"
	"\071\124\336\335\075\017\014\057\315\047\105\324\364\211\364\052"
	"\043\044\227\363\175\136\177\263\277\135\365\214\146\173\161\276"
	"\144\025\203\327\300\176\001\277\317\325\357\334\032\371\156\152"
	"\056\150\300\263\245\222\162\275\100\367\007\054\120\077\062\157"
	"\077\262\135\151\372\346\063\070\135\317\326\071\122\174\103\025"
	"\211\061\141\334\207\202\160\112\060\126\213\054\350\036\002\062"
	"\135\217\337\137\253\347\055\261\327\007\315\025\140\175\215\044"
	"\013\252\312\134\042\122\203\045\145\270\014\204\267\236\366\211"
	"\110\024\362\055\103\005\273\047\202\162\111\161\066\347\106\207"
	"\021\052\263\204\126\102\261\260\212\355\134\251\316\045\373\350"
	"\130\254\064\324\170\116\107\203\270\160\040\032\115\007\341\334"
	"\107\312\222\273\330\354\032\230\044\005\257\002\136\312\051\165"
	"\146\115\262\075\263\032\362\114\126\321\031\367\326\017\373\026"
	"\126\332\072\157\340\041\061\242\061\313\105\021\365\133\075\257"
	"\225\210\102\302\206\166\235\015\372\051\151\331\036\342\070\060"
	"\035\331\253\337\330\207\106\026\167\230\110\117\344\010\206\160"
	"\114\235\157\061\374\345\040\303\165\223\246\341\330\120\260\300"
	"\113\127\346\052\061\224\264\364\110\150\064\170\141\243\135\300"
	"\160\067\023\247\140\351\370\112\131\277\041\173\175\234\277\063"
	"\325\317\353\111\321\045\031\173\336\076\215\133\115\364\246\176"
	"\060\076\000\303\272\066\054\341\316\027\157\256\077\231\263\235"
	"\147\234\247\016\347\053\177\366\216\234\170\302\107\076\263\254"
	"\027\153\151\017\147\270\011\277\051\152\053\355\027\175\017\341"
	"\162\120\142\245\244\172\336\303\315\001\073\312\170\314\210\042"
	"\124\116\164\026\143\264\024\117\224\326\307\030\157\363\333\301"
	"\176\265\070\025\362\267\321\372\241\247\147\346\323\157\013\066"
	"\244\072\045\047\331\022\340\015\121\102\040\254\200\225\064\045"
	"\240\042\226\220\152\071\332\351\241\213\342\065\172\121\121\215"
	"\247\003\315\003\045\231\050\067\051\101\070\353\162\314\047\246"
	"\370\345\351\330\131\270\025\157\051\247\341\030\353\167\014\362"
	"\124\065\356\233\267\247\260\331\367\200\142\127\313\365\063\274"
	"\153\275\145\255\217\137\306\037\057\264\305\043\146\070\146\136"
	"\265\323\343\273\042\043\220\127\110\124\250\342\341\021\236\014"
	"\167\322\126\373\205\316\076\156\040\346\346\304\376\037\106\334"
	"\230\133\023\301\055\072\075\253\366\374\270\306\166\243\012\331"
	"\231\150\321\107\271\376\224\330\110\237\141\245\052\304\024\000"
	"\352\065\064\112\303\115\176\106\170\225\325\362\070\147\147\235"
	"\124\077\147\122\120\221\370\033\044\307\053\204\206\066\166\156"
	"\361\011\277\113\366\356\071\277\277\205\323\304\157\122\121\044"
	"\304\352\231\066\032\231\250\203\115\037\371\163\017\345\236\307"
	"\210\257\200\047\317\002\211\002\343\031\373\030\143\064\145\131"
	"\205\377\346\030\340\044\011\252\201\140\236\211\011\263\142\033"
	"\372\066\044\123\012\122\266\104\163\002\247\322\325\025\237\262"
	"\136\133\227\056\374\025\134\301\203\362\370\245\210\100\070\250"
	"\102\167\125\122\037\046\146\367\327\131\272\356\012\351\012\023"
	"\101\212\107\053\321\274\130\232\332\103\147\264\230\273\036\125"
	"\002\131\357\202\305\127\057\023\303\225\346\103\073\040\203\200"
	"\135\362\307\163\302\241\343\122\366\251\316\365\013\275\274\161"
	"\063\334\202\345\272\341\132\277\111\322\266\360\353\053\067\273"
	"\303\031\276\206\150\245\370\162\210\176\064\022\046\340\056\307"
	"\112\176\107\202\016\336\241\324\314\122\103\047\233\226\213\161"
	"\301\233\121\303\050\271\002\141\260\020\355\353\321\366\355\221"
	"\264\357\354\164\177\375\256\065\021\266\166\065\127\173\126\142"
	"\122\322\137\021\027\225\352\147\153\133\205\131\171\311\022\206"
	"\316\324\235\216\372\242\040\010\267\070\345\236\103\267\025\140"
	"\366\217\344\004\052\375\102\124\137\305\324\015\344\315\260\027"
	"\052\343\364\217\270\311\213\225\200\216\030\030\041\071\016\162"
	"\141\076\314\125\322\257\012\323\313\032\251\274\103\175\317\361"
	"\101\175\135\267\327\173\263\143\313\073\012\347\377\057\270\017"
	"\345\205\252\310\311\001\362\170\212\343\032\042\157\120\364\355"
	"\061\065\325\363\204\012\244\345\230\174\354\113\011\037\311\040"
	"\276\036\315\120\234\201\054\364\161\347\152\237\376\247\062\270"
	"\267\126\153\313\330\333\106\342\334\160\122\053\247\045\317\300"
	"\200\154\341\075\373\260\114\223\156\047\267\053\061\105\264\073"
	"\010\120\276\234\251\302\017\216\021\127\015\070\272\122\376\352"
	"\212\131\265\062\113\041\152\070\002\131\012\106\152\217\205\330"
	"\224\175\226\053\206\130\232\316\160\215\330\165\177\000\145\052"
	"\261\275\372\031\064\375\222\300\333\267\143\074\260\037\322\307"
	"\243\003\067\144\221\364\204\005\216\303\042\244\137\116\175\222"
	"\344\074\216\173\314\314\024\337\175\120\217\017\046\062\206\127"
	"\062\121\251\021\311\211\035\214\163\150\047\002\115\304\031\100"
	"\301\373\076\312\047\012\200\350\173\305\211\213\036\016\056\061"
	"\274\142\237\352\102\051\150\031\024\227\111\003\154\005\130\154"
	"\070\147\151\335\377\100\255\013\143\151\200\015\233\111\256\271"
	"\361\347\036\130\210\226\253\115\315\060\017\107\037\355\023\164"
	"\156\046\163\315\206\156\370\337\131\365\020\220\036\031\212\154"
	"\137\056\234\254\074\240\114\156\224\362\242\370\103\337\230\151"
	"\072\125\324\253\030\350\244\350\364\333\265\233\362\040\203\006"
	"\111\074\167\354\061\225\316\115\113\203\160\345\221\260\203\013"
	"\154\362\360\077\341\307\215\166\302\256\126\140\334\055\132\337"
	"\261\313\020\303\166\024\207\104\103\206\245\172\334\052\313\051"
	"\174\155\320\123\003\301\111\145\212\134\341\030\011\106\124\230"
	"\120\345\010\241\044\154\241\067\140\234\121\052\363\356\067\050"
	"\251\117\157\224\065\366\213\211\331\131\045\075\163\024\271\226"
	"\143\127\061\212\012\376\203\223\265\133\271\256\374\212\367\176"
	"\300\323\350\031\352\103\166\044\251\315\117\246\011\237\252\122"
	"\177\074\020\275\031\061\121\144\274\020\032\261\104\113\012\223"
	"\033\102\321\016\147\161\073\104\005\053\214\357\346\136\054\375"
	"\146\345\112\311\311\322\140\113\275\206\054\220\134\336\135\164"
	"\056\054\110\206\045\262\315\074\142\366\162\251\161\247\163\016"
	"\344\102\250\371\030\353\327\062\031\003\377\066\215\074\073\240"
	"\070\364\172\170\141\372\330\177\232\001\327\042\067\050\314\171"
	"\023\251\343\256\102\340\122\324\253\006\025\233\241\161\305\225"
	"\147\326\322\071\342\173\313\047\212\044\216\324\027\342\157\276"
	"\011\107\122\111\014\277\331\270\161\235\144\067\302\027\265\002"
	"\002\363\051\077\217\352\346\254\244\340\230\044\201\016\273\034"
	"\107\165\211\054\355\016\375\332\360\374\141\043\354\322\335\174"
	"\311\226\305\352\305\221\363\215\135\344\124\261\234\143\277\072"
	"\152\236\100\310\050\013\331\175\006\227\372\041\116\376\135\277"
	"\340\341\144\061\154\142\025\010\251\155\235\001\341\112\005\152"
	"\371\033\216\326\073\341\311\267\351\123\203\160\231\263\166\030"
	"\020\007\040\304\076\141\227\342\020\050\077\143\045\030\204\303"
	"\103\277\325\171\005\321\201\127\261\336\061\320\202\154\107\055"
	"\267\042\223\363\337\347\372\062\255\074\215\162\251\043\244\316"
	"\224\177\333\326\331\323\275\266\024\313\302\330\163\051\122\114"
	"\213\366\140\166\123\215\042\312\267\030\127\120\070\105\046\212"
	"\006\277\341\044\250\053\257\064\213\014\150\075\077\113\102\100"
	"\012\265\133\342\120\374\306\356\165\051\276\351\042\226\127\162"
	"\211\150\033\376\235\237\301\275\304\252\254\006\071\123\072\351"
	"\163\141\336\107\171\026\344\237\270\073\135\010\216\052\234\310"
	"\064\001\355\312\123\223\054\005\000\263\331\212\165\307\262\347"
	"\026\010\337\123\035\020\235\314\002\116\055\342\044\236\366\057"
	"\230\362\306\053\352\302\103\360\150\215\017\343\155\134\161\265"
	"\326\233\145\356\262\241\172\107\203\221\252\254\373\260\147\217"
	"\076\230\350\235\155\207\344\122\317\100\375\001\134\203\345\247"
	"\377\306\301\004\312\017\122\003\221\176\145\063\217\161\177\127"
	"\041\067\123\323\361\034\235\322\156\032\346\022\206\230\376\134"
	"\075\200\236\354\066\231\014\215\122\025\315\237\000\071\145\344"
	"\316\007\015\147\102\012\063\350\212\172\171\253\052\332\320\337"
	"\055\322\364\166\021\104\053\063\337\325\227\207\031\223\002\277"
	"\046\224\346\113\274\073\045\201\232\053\363\121\007\120\263\314"
	"\160\226\243\317\343\224\263\302\055\223\140\217\102\170\154\217"
	"\110\325\333\005\020\000\207\252\054\173\374\064\313\257\000\073"
	"\105\244\012\051\071\276\353\146\122\113\366\224\304\142\044\015"
	"\070\000\022\110\001\232\362\056\025\357\142\341\236\143\034\344"
	"\007\047\015\100\346\371\247\070\105\235\315\011\000\362\026\070"
	"\363\051\200\365\303\163\043\331\143\206\272\001\351\327\346\360"
	"\376\364\061\345\355\331\035\063\166\353\074\167\336\123\257\321"
	"\174\060\306\100\244\352\032\007\160\325\011\132\254\357\113\253"
	"\344\174\220\321\125\256\004\314\232\101\103\170\224\363\111\021"
	"\044\020\122\310\373\154\320\153\101\331\305\356\311\020\231\255"
	"\215\052\177\343\330\204\260\162\305\363\353\132\347\064\153\013"
	"\105\275\324\100\052\244\253\154\175\161\132\107\202\364\364\020"
	"\036\163\363\367\367\243\152\275\227\125\027\177\212\202\212\317"
	"\100\137\017\153\003\273\327\201\055\061\310\260\046\275\300\105"
	"\061\264\074\050\130\247\346\357\375\375\156\207\200\371\126\300"
	"\130\146\053\134\042\003\335\117\065\246\377\133\143\300\240\224"
	"\164\335\275\314\204\243\274\201\241"/* End of data[] */;
#define      hide_z	4096
#define DEBUGEXEC	0	/* Define as 1 to debug execvp calls */
#define TRACEABLE	1	/* Define as 1 to enable ptrace the executable */
#define BUSYBOXON	0	/* Define as 1 to enable work with busybox */

/* rtc.c */

#include <sys/stat.h>
#include <sys/types.h>

#include <errno.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>
#include <unistd.h>

/* 'Alleged RC4' */

static unsigned char stte[256], indx, jndx, kndx;

/*
 * Reset arc4 stte. 
 */
void stte_0(void)
{
	indx = jndx = kndx = 0;
	do {
		stte[indx] = indx;
	} while (++indx);
}

/*
 * Set key. Can be used more than once. 
 */
void key(void * str, int len)
{
	unsigned char tmp, * ptr = (unsigned char *)str;
	while (len > 0) {
		do {
			tmp = stte[indx];
			kndx += tmp;
			kndx += ptr[(int)indx % len];
			stte[indx] = stte[kndx];
			stte[kndx] = tmp;
		} while (++indx);
		ptr += 256;
		len -= 256;
	}
}

/*
 * Crypt data. 
 */
void arc4(void * str, int len)
{
	unsigned char tmp, * ptr = (unsigned char *)str;
	while (len > 0) {
		indx++;
		tmp = stte[indx];
		jndx += tmp;
		stte[indx] = stte[jndx];
		stte[jndx] = tmp;
		tmp += stte[indx];
		*ptr ^= stte[tmp];
		ptr++;
		len--;
	}
}

/* End of ARC4 */

/*
 * Key with file invariants. 
 */
int key_with_file(char * file)
{
	struct stat statf[1];
	struct stat control[1];

	if (stat(file, statf) < 0)
		return -1;

	/* Turn on stable fields */
	memset(control, 0, sizeof(control));
	control->st_ino = statf->st_ino;
	control->st_dev = statf->st_dev;
	control->st_rdev = statf->st_rdev;
	control->st_uid = statf->st_uid;
	control->st_gid = statf->st_gid;
	control->st_size = statf->st_size;
	control->st_mtime = statf->st_mtime;
	control->st_ctime = statf->st_ctime;
	key(control, sizeof(control));
	return 0;
}

#if DEBUGEXEC
void debugexec(char * sh11, int argc, char ** argv)
{
	int i;
	fprintf(stderr, "shll=%s\n", sh11 ? sh11 : "<null>");
	fprintf(stderr, "argc=%d\n", argc);
	if (!argv) {
		fprintf(stderr, "argv=<null>\n");
	} else { 
		for (i = 0; i <= argc ; i++)
			fprintf(stderr, "argv[%d]=%.60s\n", i, argv[i] ? argv[i] : "<null>");
	}
}
#endif /* DEBUGEXEC */

void rmarg(char ** argv, char * arg)
{
	for (; argv && *argv && *argv != arg; argv++);
	for (; argv && *argv; argv++)
		*argv = argv[1];
}

void chkenv_end(void);

int chkenv(int argc)
{
	char buff[512];
	unsigned long mask, m;
	int l, a, c;
	char * string;
	extern char ** environ;

	mask = (unsigned long)getpid();
	stte_0();
	 key(&chkenv, (void*)&chkenv_end - (void*)&chkenv);
	 key(&data, sizeof(data));
	 key(&mask, sizeof(mask));
	arc4(&mask, sizeof(mask));
	sprintf(buff, "x%lx", mask);
	string = getenv(buff);
#if DEBUGEXEC
	fprintf(stderr, "getenv(%s)=%s\n", buff, string ? string : "<null>");
#endif
	l = strlen(buff);
	if (!string) {
		/* 1st */
		sprintf(&buff[l], "=%lu %d", mask, argc);
		putenv(strdup(buff));
		return 0;
	}
	c = sscanf(string, "%lu %d%c", &m, &a, buff);
	if (c == 2 && m == mask) {
		/* 3rd */
		rmarg(environ, &string[-l - 1]);
		return 1 + (argc - a);
	}
	return -1;
}

void chkenv_end(void){}

#if !TRACEABLE

#define _LINUX_SOURCE_COMPAT
#include <sys/ptrace.h>
#include <sys/types.h>
#include <sys/wait.h>
#include <fcntl.h>
#include <signal.h>
#include <stdio.h>
#include <unistd.h>

#if !defined(PTRACE_ATTACH) && defined(PT_ATTACH)
#	define PTRACE_ATTACH	PT_ATTACH
#endif
void untraceable(char * argv0)
{
	char proc[80];
	int pid, mine;

	switch(pid = fork()) {
	case  0:
		pid = getppid();
		/* For problematic SunOS ptrace */
#if defined(__FreeBSD__)
		sprintf(proc, "/proc/%d/mem", (int)pid);
#else
		sprintf(proc, "/proc/%d/as",  (int)pid);
#endif
		close(0);
		mine = !open(proc, O_RDWR|O_EXCL);
		if (!mine && errno != EBUSY)
			mine = !ptrace(PTRACE_ATTACH, pid, 0, 0);
		if (mine) {
			kill(pid, SIGCONT);
		} else {
			perror(argv0);
			kill(pid, SIGKILL);
		}
		_exit(mine);
	case -1:
		break;
	default:
		if (pid == waitpid(pid, 0, 0))
			return;
	}
	perror(argv0);
	_exit(1);
}
#endif /* !TRACEABLE */

char * xsh(int argc, char ** argv)
{
	char * scrpt;
	int ret, i, j;
	char ** varg;
	char * me = argv[0];
	if (me == NULL) { me = getenv("_"); }
	if (me == 0) { fprintf(stderr, "E: neither argv[0] nor $_ works."); exit(1); }

	ret = chkenv(argc);
	stte_0();
	 key(pswd, pswd_z);
	arc4(msg1, msg1_z);
	arc4(date, date_z);
	if (date[0] && (atoll(date)<time(NULL)))
		return msg1;
	arc4(shll, shll_z);
	arc4(inlo, inlo_z);
	arc4(xecc, xecc_z);
	arc4(lsto, lsto_z);
	arc4(tst1, tst1_z);
	 key(tst1, tst1_z);
	arc4(chk1, chk1_z);
	if ((chk1_z != tst1_z) || memcmp(tst1, chk1, tst1_z))
		return tst1;
	arc4(msg2, msg2_z);
	if (ret < 0)
		return msg2;
	varg = (char **)calloc(argc + 10, sizeof(char *));
	if (!varg)
		return 0;
	if (ret) {
		arc4(rlax, rlax_z);
		if (!rlax[0] && key_with_file(shll))
			return shll;
		arc4(opts, opts_z);
		arc4(text, text_z);
		arc4(tst2, tst2_z);
		 key(tst2, tst2_z);
		arc4(chk2, chk2_z);
		if ((chk2_z != tst2_z) || memcmp(tst2, chk2, tst2_z))
			return tst2;
		/* Prepend hide_z spaces to script text to hide it. */
		scrpt = malloc(hide_z + text_z);
		if (!scrpt)
			return 0;
		memset(scrpt, (int) ' ', hide_z);
		memcpy(&scrpt[hide_z], text, text_z);
	} else {			/* Reexecute */
		if (*xecc) {
			scrpt = malloc(512);
			if (!scrpt)
				return 0;
			sprintf(scrpt, xecc, me);
		} else {
			scrpt = me;
		}
	}
	j = 0;
#if BUSYBOXON
	varg[j++] = "busybox";
	varg[j++] = "sh";
#else
	varg[j++] = argv[0];		/* My own name at execution */
#endif
	if (ret && *opts)
		varg[j++] = opts;	/* Options on 1st line of code */
	if (*inlo)
		varg[j++] = inlo;	/* Option introducing inline code */
	varg[j++] = scrpt;		/* The script itself */
	if (*lsto)
		varg[j++] = lsto;	/* Option meaning last option */
	i = (ret > 1) ? ret : 0;	/* Args numbering correction */
	while (i < argc)
		varg[j++] = argv[i++];	/* Main run-time arguments */
	varg[j] = 0;			/* NULL terminated array */
#if DEBUGEXEC
	debugexec(shll, j, varg);
#endif
	execvp(shll, varg);
	return shll;
}

int main(int argc, char ** argv)
{
#if DEBUGEXEC
	debugexec("main", argc, argv);
#endif
#if !TRACEABLE
	untraceable(argv[0]);
#endif
	argv[1] = xsh(argc, argv);
	fprintf(stderr, "%s%s%s: %s\n", argv[0],
		errno ? ": " : "",
		errno ? strerror(errno) : "",
		argv[1] ? argv[1] : "<null>"
	);
	return 1;
}
